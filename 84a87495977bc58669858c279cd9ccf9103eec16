{
  "comments": [
    {
      "key": {
        "uuid": "9a3d3df0_74490e8b",
        "filename": "security/oc_tls.c",
        "patchSetId": 7
      },
      "lineNbr": 1664,
      "author": {
        "id": 475
      },
      "writtenOn": "2018-11-02T05:24:36Z",
      "side": 1,
      "message": "in order to save memory usage,  message-\u003edata is supposed to be NULL then mbedtls_ssl_read_dynamic should be called.\n\nhow about considering oc_reallocate_message_by_size(mssage, 0) before using mbedtls_ssl_read_dynamic  in OC_DYNAMIC_ALLOCATION?",
      "revId": "84a87495977bc58669858c279cd9ccf9103eec16",
      "serverId": "c6509b8a-a471-4ec1-8e5f-9aed2654acb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_142fe2a2",
        "filename": "security/oc_tls.c",
        "patchSetId": 7
      },
      "lineNbr": 1664,
      "author": {
        "id": 1225
      },
      "writtenOn": "2018-11-02T07:11:28Z",
      "side": 1,
      "message": "oc_allocate_message is not uesd in oc_tls because of ristriction of message allocation count. My patch only made g_decrypt_data which is buffer for every decrypt logic.",
      "parentUuid": "9a3d3df0_74490e8b",
      "revId": "84a87495977bc58669858c279cd9ccf9103eec16",
      "serverId": "c6509b8a-a471-4ec1-8e5f-9aed2654acb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_f47d1eb3",
        "filename": "security/oc_tls.c",
        "patchSetId": 7
      },
      "lineNbr": 1666,
      "author": {
        "id": 13
      },
      "writtenOn": "2018-11-02T05:02:21Z",
      "side": 1,
      "message": "at least this should follow the previous update.\n#ifdef OC_DYNAMIC_ALLOCATION\n      int ret \u003d mbedtls_ssl_read_dynamic(\u0026peer-\u003essl_ctx, \u0026(message-\u003edata), OC_PDU_SIZE);\n#else\n      int ret \u003d mbedtls_ssl_read(\u0026peer-\u003essl_ctx, message-\u003edata, OC_PDU_SIZE);\n#endif /* !OC_DYNAMIC_ALLOCATION */",
      "range": {
        "startLine": 1666,
        "startChar": 6,
        "endLine": 1666,
        "endChar": 78
      },
      "revId": "84a87495977bc58669858c279cd9ccf9103eec16",
      "serverId": "c6509b8a-a471-4ec1-8e5f-9aed2654acb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_344f8694",
        "filename": "security/oc_tls.c",
        "patchSetId": 7
      },
      "lineNbr": 1666,
      "author": {
        "id": 1225
      },
      "writtenOn": "2018-11-02T05:14:25Z",
      "side": 1,
      "message": "g_decrypt_data is not for ther current message. that buffer is alloc once and share each tls decrypt logic.\nShould I change g_decrypt_data alloc size whenever encrypted data is comming?",
      "parentUuid": "9a3d3df0_f47d1eb3",
      "range": {
        "startLine": 1666,
        "startChar": 6,
        "endLine": 1666,
        "endChar": 78
      },
      "revId": "84a87495977bc58669858c279cd9ccf9103eec16",
      "serverId": "c6509b8a-a471-4ec1-8e5f-9aed2654acb5",
      "unresolved": false
    }
  ]
}